name: DevOS Demo Pipeline

on:
  push:
    branches: [ "main", "master", "develop" ]
  workflow_dispatch: # ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ

jobs:
  build-core:
    name: ğŸ“¦ Build Core
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Simulating Build
        run: |
          echo "Compiling Kernel..."
          sleep 10
          echo "Done."

  security-scan:
    name: ğŸ›¡ï¸ Security Check
    needs: build-core
    runs-on: ubuntu-latest
    steps:
      - name: Running d-guard logic
        run: |
          echo "Scanning secrets..."
          sleep 5
          echo "Scanning vulnerabilities..."
          sleep 5

  integration-test:
    name: ğŸ§ª Integration Tests
    needs: security-scan
    runs-on: ubuntu-latest
    steps:
      - name: Booting VM
        run: |
          echo "Starting QEMU..."
          sleep 8
          echo "Running tests..."
          sleep 7

  deploy-staging:
    name: ğŸš€ Deploy Staging
    needs: integration-test
    runs-on: ubuntu-latest
    steps:
      - name: Deploying
        run: |
          echo "Uploading artifacts..."
          sleep 5
          echo "Deployed!"
